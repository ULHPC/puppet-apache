################################################################################
# <%= real_documentroot %> 
# Apache configuration for https://<%= scope.lookupvar('servername') %>
#
################################################################################
#" /!\ DO NOT EDIT THIS FILE: it has been automatically generated by Puppet.
#      In particular, any further changes will be overwritten at the next puppet
#      invocation
################################################################################

<IfModule mod_ssl.c>
<VirtualHost <%= vhost_name %>:<%= sslport %>>
    ServerName      <%= servername %>
<% aliases.each do |serveralias| -%>
    ServerAlias     <%= serveralias %>
<% end -%>
    ServerAdmin     <%= real_serveradmin %>

    # Limit available info about this server.
    ServerSignature Off

<% if passenger_app_root != '' -%>
    PassengerAppRoot <%= passenger_app_root %>
<% end -%>
    DocumentRoot <%= real_documentroot %> 
    <Directory <%= real_documentroot %>>
        Options       <%= options %>
        AllowOverride <%= allow_override %>
<% if allow_from == [] -%>
        Order         allow,deny
        Allow from    all
<% else -%>
        Order Deny,Allow
        Deny from all
<% allow_from.each do |ipaddr| -%>
        Allow from <%= ipaddr %>
<% end -%>
<% end -%>
    </Directory>

    # CGI scripts
    ScriptAlias /cgi-bin/ <%= scope.lookupvar('apache::params::wwwdir') %>/<%= servername %>/cgi-bin/
    <Directory <%= scope.lookupvar('apache::params::wwwdir') %>/<%= servername %>/cgi-bin>
        Options       +ExecCGI
        AddHandler    cgi-script .cgi
    </Directory>

